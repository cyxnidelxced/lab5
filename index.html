<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 5: Audio and Video</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="js/video_helpers.js" defer></script>
    <script type="module" src="js/main.js" defer></script>
</head>

<body>
    <h1>Howl's Moving Castle</h1>

    <h2>Movie Soundtracks</h2>
    
    <div style="width:400px; display:flex; justify-content:center; align-items:center; margin:auto;">
        <audio class="howl_audio" controls>
            <source src="a/howl_og.webm" type="audio/webm" />
            <source src="a/howl_og.mp3" type="audio/mp3" />
            <p>
                Here is a link to the audio file itself
                <a href="a/howl_og.mp3">Audio here</a>
            </p>
        </audio>
    </div>
            
    <div style="width:400px;display:flex; justify-content:center; align-items:center; margin:auto; margin-top:1rem;">
        <div class="audio-controls">
            <button id="fastf">>></button>
            <button id="slow">slow down</button>
            <button id="normalplay">normal</button>
            <select name="pick" id="pick">
                <option value="">pick a track</option>
                <option value="a/howl_og.mp3">Original</option>
                <option value="a/howl_musicbox.mp3">Music Box</option>
            </select>
        </div>
    </div>

    <hr />

	<main id="container">

		<section class="col1">

			<video id="vid" width="450" poster="images/howl_art.png" controls>
				<source src="v/howl_trailer.mp4" type="video/mp4">
				<source src="v/howl_trailer.webm" type="video/webm">
				<source src="v/howl_trailer.ogv" type="video/ogg">
				<track kind="captions" label="On" srclang="en" src="./captions/cap.vtt" default>

				<!-- final fallback to text -->
				<h2>Trailer Captions</h2>
				<p>Howl: Where to? I'll be your escort this evening.<br />
                   Lettie: Now Sophie, you need to be more careful. It's dangerous out there.<br />
                   Witch of the Waste: His heart belongs to me~<br />
                   Older Sophie: MmmmMMmmmh!<br />
				</p>
				<p>Older Sophie: Are you Howl?<br />
                   Younger Sophie: I'm going to help you break the spell that you're under!<br />
                   Howl: You... you can't even break your own spell.<br />
                   Witch of the Waste: Strapping young men are so difficult to deal with.<br />
                   Younger Sophie: They say that the best blaze burns brightest when circumstances are at their worst.<br />
                   Calcifer: Yeah, but no one really believes that.<br />
                   Older Sophie: Look at that. They call this a castle?!<br />
				</p>
			</video>


			<div id="controls">
				<form id="video_form">
					<fieldset>
						<legend>Playback controls</legend>
						<input type="button" id="play_button" onclick="playVideo(vid)" value="Play" />
						<input type="button" id="pause_button" onclick="pauseVideo(vid)" value="Pause" />
						<input type="button" id="mute" onclick="muteVid(vid)" value="Mute" />
						<input type="button" id="unmute" onclick="unmuteVid(vid)" value="Unmute" />

						<fieldset>
							<legend>Timestamp</legend>
							<input type="button" id="rewind" onclick="seekVideo(vid, 0)" value="Beginning" />
						<input type="button" id="end" onclick="seekVideo(vid, 54)" value="End" />
						<input type="button" id="seek" onclick="seekVideo(vid, 10)" value="Director" />
						</fieldset>
					</fieldset>
					<fieldset>
						<legend>Select a video format</legend>
						<select id="video_select">
							<option>Select video format</option>
							<option value="v/howl_trailer.mp4">Howl Trailer(mp4)</option>
							<option value="v/howl_trailer.ogv">Howl Trailer(ogv)</option>
							<option value="v/howl_trailer.webm">Howl Trailer(webm)</option>
						</select>
					</fieldset>
					<fieldset>
						<legend>Playback speed</legend>
						<p class="slomo">Currently, rewind only works in Safari</p>
						<input type=button id="rw" onclick="playRate(vid,-1)" value="&lt; &lt;" />
						<input type=button id="ff" onclick="playRate(vid,2)" value=">>" />
						<input type=button id="slo" onclick="playRate(vid,.5)" value="slow down" />
						<input type=button id="normal" onclick="playRate(vid,1)" value="normal" />
					</fieldset>
				</form>
			</div>

			<div class="pop hide">
				<p>Test This!</p>
			</div>
		</section>

		<section class="col2">
			<iframe id="web" src="summary.html" title="dynamic content"></iframe>
		</section>

	</main>

</body>

</html>